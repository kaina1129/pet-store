{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/kainazhang/Desktop/pet-store/src/components/PetInfoForm/PetInfoForm.js\",\n    _s = $RefreshSig$();\n\nimport React, { useRef } from 'react';\nimport { Form, Input } from 'antd';\nimport Button from '../Button/Button.js';\nimport PetService from '../../services/pets';\nimport './PetInfoForm.scss';\nconst formData = [{\n  name: 'name',\n  label: 'Name'\n}, {\n  name: 'color',\n  label: 'Color'\n}, {\n  name: 'age',\n  label: 'Age'\n}, {\n  name: 'breed',\n  label: 'Breed'\n}];\nconst layout = {\n  labelCol: {\n    span: 4\n  },\n  wrapperCol: {\n    span: 16\n  }\n};\n\nconst PetInfoForm = ({\n  setVisible,\n  allPetsData,\n  setAllPetsData,\n  currentPet\n}) => {\n  _s();\n\n  const validateMessages = {\n    /* eslint-disable */\n    required: '${label} is required!',\n    types: {\n      number: '${label} is not a valid number!'\n    }\n    /* eslint-disable */\n\n  };\n  const formRef = useRef(null);\n\n  const onFinish = async values => {\n    const newPets = { ...allPetsData\n    };\n    values['id'] = (newPets[currentPet].length + 1).toString();\n\n    try {\n      const result = await PetService.createPet(values);\n\n      if (result.status === 201) {\n        newPets[currentPet].push(values);\n        setVisible(false);\n        formRef.current.resetFields();\n        setAllPetsData(newPets);\n      }\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"pet-info-form\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Pet Info Form\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(Form, { ...layout,\n      name: \"nest-messages\",\n      onFinish: onFinish,\n      validateMessages: validateMessages,\n      ref: formRef,\n      onClick: () => {\n        !formRef.current && formRef.current.focus();\n      },\n      children: [formData.map(item => /*#__PURE__*/_jsxDEV(Form.Item, {\n        name: item.name,\n        label: item.label,\n        rules: [{\n          required: true\n        }],\n        children: /*#__PURE__*/_jsxDEV(Input, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 7\n        }, this)\n      }, item.name, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 6\n      }, this)), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"button-container\",\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          onClick: onFinish,\n          children: \"Submit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 6\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 4\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 71,\n    columnNumber: 3\n  }, this);\n};\n\n_s(PetInfoForm, \"43yiYcpPc7V7EqBzAhVF/lXnrEM=\");\n\n_c = PetInfoForm;\nexport default PetInfoForm;\n\nvar _c;\n\n$RefreshReg$(_c, \"PetInfoForm\");","map":{"version":3,"sources":["/Users/kainazhang/Desktop/pet-store/src/components/PetInfoForm/PetInfoForm.js"],"names":["React","useRef","Form","Input","Button","PetService","formData","name","label","layout","labelCol","span","wrapperCol","PetInfoForm","setVisible","allPetsData","setAllPetsData","currentPet","validateMessages","required","types","number","formRef","onFinish","values","newPets","length","toString","result","createPet","status","push","current","resetFields","error","console","log","focus","map","item"],"mappings":"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","sourcesContent":["import React, { useRef } from 'react';\nimport { Form, Input } from 'antd';\n\nimport Button from '../Button/Button.js';\nimport PetService from '../../services/pets';\n\nimport './PetInfoForm.scss';\n\nconst formData = [\n\t{\n\t\tname: 'name',\n\t\tlabel: 'Name',\n\t},\n\t{\n\t\tname: 'color',\n\t\tlabel: 'Color',\n\t},\n\t{\n\t\tname: 'age',\n\t\tlabel: 'Age',\n\t},\n\t{\n\t\tname: 'breed',\n\t\tlabel: 'Breed',\n\t},\n];\n\nconst layout = {\n\tlabelCol: {\n\t\tspan: 4,\n\t},\n\twrapperCol: {\n\t\tspan: 16,\n\t},\n};\n\nconst PetInfoForm = ({\n\tsetVisible,\n\tallPetsData,\n\tsetAllPetsData,\n\tcurrentPet,\n}) => {\n\tconst validateMessages = {\n\t\t/* eslint-disable */\n\t\trequired: '${label} is required!',\n\t\ttypes: {\n\t\t\tnumber: '${label} is not a valid number!',\n\t\t},\n\t\t/* eslint-disable */\n\t};\n\tconst formRef = useRef(null);\n\n\tconst onFinish = async (values) => {\n\t\tconst newPets = { ...allPetsData };\n\t\tvalues['id'] = (newPets[currentPet].length + 1).toString();\n\t\ttry {\n\t\t\tconst result = await PetService.createPet(values);\n\n\t\t\tif (result.status === 201) {\n\t\t\t\tnewPets[currentPet].push(values);\n\t\t\t\tsetVisible(false);\n\t\t\t\tformRef.current.resetFields();\n\t\t\t\tsetAllPetsData(newPets);\n\t\t\t}\n\t\t} catch (error) {\n\t\t\tconsole.log(error);\n\t\t}\n\t};\n\n\treturn (\n\t\t<div className='pet-info-form'>\n\t\t\t<h2>Pet Info Form</h2>\n\t\t\t<Form\n\t\t\t\t{...layout}\n\t\t\t\tname='nest-messages'\n\t\t\t\tonFinish={onFinish}\n\t\t\t\tvalidateMessages={validateMessages}\n\t\t\t\tref={formRef}\n\t\t\t\tonClick={() => {\n\t\t\t\t\t!formRef.current && formRef.current.focus();\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t{formData.map((item) => (\n\t\t\t\t\t<Form.Item\n\t\t\t\t\t\tname={item.name}\n\t\t\t\t\t\tlabel={item.label}\n\t\t\t\t\t\trules={[\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\trequired: true,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t]}\n\t\t\t\t\t\tkey={item.name}\n\t\t\t\t\t>\n\t\t\t\t\t\t<Input />\n\t\t\t\t\t</Form.Item>\n\t\t\t\t))}\n\t\t\t\t<div className='button-container'>\n\t\t\t\t\t<Button onClick={onFinish}>Submit</Button>\n\t\t\t\t</div>\n\t\t\t</Form>\n\t\t</div>\n\t);\n};\n\nexport default PetInfoForm;\n"]},"metadata":{},"sourceType":"module"}